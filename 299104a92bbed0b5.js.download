(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,338688,259385,e=>{"use strict";var t=e.i(623101);let r={short:"ddd",long:"dddd"},n={long:"MMMM",short:"MMM",numeric:"M","2-digit":"MM",narrow:"MMM"},a={full:"dddd, MMMM D, YYYY",long:"MMMM D, YYYY",medium:"MMM D, YYYY",short:"M/D/YY"},o=new Map,i=new Map,l=new Map;function s(e){let t=o.get(e);return void 0===t&&(t=Intl.DateTimeFormat.supportedLocalesOf([e]).length>0,o.set(e,t)),t}function u(e,t){let r=`${e}|${JSON.stringify(t)}`,n=i.get(r);return n||(i.size>=1e3&&i.clear(),n=new Intl.DateTimeFormat(e,t),i.set(r,n)),n}function d(e,t=!0){let{timeZone:r,dateStyle:n,timeStyle:a,month:o,hour12:i}=e;return{...r&&{timeZone:r},...n&&{dateStyle:n},...a&&{timeStyle:a},...t&&o&&{month:o},...void 0!==i&&{hour12:i}}}function c(e,r){let{locale:o,dateStyle:i,timeStyle:l,month:s,hour12:u,timeZone:d}=r,c=d?(0,t.default)(e).tz(d).locale(o):(0,t.default)(e).locale(o);if(s){let e=c.format(n[s]||"MMM");return"narrow"===s?e.charAt(0):e}let m=[];return i&&m.push(a[i]),l&&m.push(u?"h:mm A":"HH:mm"),c.format(m.join(" ")||"YYYY-MM-DD HH:mm")}function m(e){let t=new Date,r=e-t.getDay(),n=new Date(t);return n.setDate(t.getDate()+r),n}function f(e,t){return s(t.locale)?u(t.locale,d(t)).format(e):c(e,t)}function p(e,t,r){return s(r.locale)?u(r.locale,d(r,!1)).formatRange(e,t):`${c(e,r)} â€” ${c(t,r)}`}function h(e,n,a){return s(e)?u(e,{weekday:a}).format(m(n)):(0,t.default)().day(n).locale(e).format(r[a])}function g(e,n=0,a="long"){let o=`${e}|${n}|${a}`,i=l.get(o);if(!i){if(l.size>=500&&l.clear(),s(e)){let t=u(e,{weekday:a});i=Array.from({length:7},(e,r)=>t.format(m((r+n)%7)))}else i=Array.from({length:7},(o,i)=>(0,t.default)().day((i+n)%7).locale(e).format(r[a]));l.set(o,i)}return i}function v(e,t=0,r="long"){return g(Array.isArray(e)?e[0]:e||"en",t,r)}function y(e,t,r="long"){return h(Array.isArray(e)?e[0]:e||"en",t,r)}e.s(["formatDateTime",()=>f,"formatDateTimeRange",()=>p,"formatWeekday",()=>h,"getWeekdayNames",()=>g],259385),e.s(["nameOfDay",()=>y,"weekdayNames",()=>v],338688)},759023,e=>{"use strict";var t,r=e.i(207597);let n="timeOption.is24hClock";var a=((t={}).TWELVE_HOUR="h:mma",t.TWENTY_FOUR_HOUR="HH:mm",t);let o=e=>r.localStorage.setItem(n,e.toString()),i=()=>{let e=r.localStorage.getItem(n);return null===e?null:"true"===e},l=()=>{let e=i();return!0===e||!1!==e&&(new Intl.DateTimeFormat(void 0,{hour:"numeric"}).format(0).match(/M/i)?(o(!1),!1):(o(!0),!0))},s=l()?"HH:mm":"h:mma";e.s(["TimeFormat",()=>a,"detectBrowserTimeFormat",0,s,"getIs24hClockFromLocalStorage",0,i,"getTimeFormatStringFromUserTimeFormat",0,e=>24===e?"HH:mm":"h:mma","isBrowserLocale24h",0,l,"setIs24hClockInLocalStorage",0,o])},227739,e=>{"use strict";var t=e.i(806344),r=e.i(759023),n=e.i(37171),a=e.i(207597);let o="timeOption.preferredTimeZone",i=(0,t.create)(e=>({timeFormat:r.detectBrowserTimeFormat,setTimeFormat:t=>{(0,r.setIs24hClockInLocalStorage)(t===r.TimeFormat.TWENTY_FOUR_HOUR),e({timeFormat:t})},timezone:a.localStorage.getItem(o)||n.CURRENT_TIMEZONE,setTimezone:t=>{a.localStorage.setItem(o,t),e({timezone:t})}}));e.s(["useTimePreferences",0,i])},608546,e=>{"use strict";let t,r;var n=e.i(931067),a=e.i(271645),o=e.i(981140),i=e.i(30030),l=e.i(369340),s=e.i(820783),u=e.i(258950),d=e.i(953760),c=e.i(553289),m=e.i(248425),f=e.i(30207),p=e.i(934620),h=e.i(635804);let g="Popper",[v,y]=(0,i.createContextScope)(g),[b,x]=v(g),E=(0,a.forwardRef)((e,t)=>{let{__scopePopper:r,virtualRef:o,...i}=e,l=x("PopperAnchor",r),u=(0,a.useRef)(null),d=(0,s.useComposedRefs)(t,u);return(0,a.useEffect)(()=>{l.onAnchorChange((null==o?void 0:o.current)||u.current)}),o?null:(0,a.createElement)(m.Primitive.div,(0,n.default)({},i,{ref:d}))}),w="PopperContent",[S,C]=v(w),T=(0,a.forwardRef)((e,t)=>{var r,o,i,l,c,g,v,y;let{__scopePopper:b,side:E="bottom",sideOffset:C=0,align:T="center",alignOffset:k=0,arrowPadding:O=0,avoidCollisions:N=!0,collisionBoundary:I=[],collisionPadding:M=0,sticky:L="partial",hideWhenDetached:B=!1,updatePositionStrategy:F="optimized",onPlaced:_,...j}=e,A=x(w,b),[H,U]=(0,a.useState)(null),$=(0,s.useComposedRefs)(t,e=>U(e)),[W,Y]=(0,a.useState)(null),z=(0,h.useSize)(W),V=null!=(r=null==z?void 0:z.width)?r:0,K=null!=(o=null==z?void 0:z.height)?o:0,q="number"==typeof M?M:{top:0,right:0,bottom:0,left:0,...M},Z=Array.isArray(I)?I:[I],Q=Z.length>0,X={padding:q,boundary:Z.filter(P),altBoundary:Q},{refs:G,floatingStyles:J,placement:ee,isPositioned:et,middlewareData:er}=(0,u.useFloating)({strategy:"fixed",placement:E+("center"!==T?"-"+T:""),whileElementsMounted:(...e)=>(0,d.autoUpdate)(...e,{animationFrame:"always"===F}),elements:{reference:A.anchor},middleware:[(0,u.offset)({mainAxis:C+K,alignmentAxis:k}),N&&(0,u.shift)({mainAxis:!0,crossAxis:!1,limiter:"partial"===L?(0,u.limitShift)():void 0,...X}),N&&(0,u.flip)({...X}),(0,u.size)({...X,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:a,height:o}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${n}px`),i.setProperty("--radix-popper-anchor-width",`${a}px`),i.setProperty("--radix-popper-anchor-height",`${o}px`)}}),W&&(0,u.arrow)({element:W,padding:O}),D({arrowWidth:V,arrowHeight:K}),B&&(0,u.hide)({strategy:"referenceHidden",...X})]}),[en,ea]=R(ee),eo=(0,f.useCallbackRef)(_);(0,p.useLayoutEffect)(()=>{et&&(null==eo||eo())},[et,eo]);let ei=null==(i=er.arrow)?void 0:i.x,el=null==(l=er.arrow)?void 0:l.y,es=(null==(c=er.arrow)?void 0:c.centerOffset)!==0,[eu,ed]=(0,a.useState)();return(0,p.useLayoutEffect)(()=>{H&&ed(window.getComputedStyle(H).zIndex)},[H]),(0,a.createElement)("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:et?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:eu,"--radix-popper-transform-origin":[null==(g=er.transformOrigin)?void 0:g.x,null==(v=er.transformOrigin)?void 0:v.y].join(" ")},dir:e.dir},(0,a.createElement)(S,{scope:b,placedSide:en,onArrowChange:Y,arrowX:ei,arrowY:el,shouldHideArrow:es},(0,a.createElement)(m.Primitive.div,(0,n.default)({"data-side":en,"data-align":ea},j,{ref:$,style:{...j.style,animation:et?void 0:"none",opacity:null!=(y=er.hide)&&y.referenceHidden?0:void 0}}))))}),k={top:"bottom",right:"left",bottom:"top",left:"right"},O=(0,a.forwardRef)(function(e,t){let{__scopePopper:r,...o}=e,i=C("PopperArrow",r),l=k[i.placedSide];return(0,a.createElement)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0}},(0,a.createElement)(c.Root,(0,n.default)({},o,{ref:t,style:{...o.style,display:"block"}})))});function P(e){return null!==e}let D=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,o,i;let{placement:l,rects:s,middlewareData:u}=t,d=(null==(r=u.arrow)?void 0:r.centerOffset)!==0,c=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[f,p]=R(l),h={start:"0%",center:"50%",end:"100%"}[p],g=(null!=(n=null==(a=u.arrow)?void 0:a.x)?n:0)+c/2,v=(null!=(o=null==(i=u.arrow)?void 0:i.y)?o:0)+m/2,y="",b="";return"bottom"===f?(y=d?h:`${g}px`,b=`${-m}px`):"top"===f?(y=d?h:`${g}px`,b=`${s.floating.height+m}px`):"right"===f?(y=`${-m}px`,b=d?h:`${v}px`):"left"===f&&(y=`${s.floating.width+m}px`,b=d?h:`${v}px`),{data:{x:y,y:b}}}});function R(e){let[t,r="center"]=e.split("-");return[t,r]}let N=e=>{let{__scopePopper:t,children:r}=e,[n,o]=(0,a.useState)(null);return(0,a.createElement)(b,{scope:t,anchor:n,onAnchorChange:o},r)};var I=e.i(174080);let M=(0,a.forwardRef)((e,t)=>{var r;let{container:o=null==globalThis||null==(r=globalThis.document)?void 0:r.body,...i}=e;return o?I.default.createPortal((0,a.createElement)(m.Primitive.div,(0,n.default)({},i,{ref:t})),o):null});var L=e.i(296626),B=e.i(126083);let F="dismissableLayer.update",_=(0,a.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j=(0,a.forwardRef)((e,r)=>{var i;let{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:p,onDismiss:h,...g}=e,v=(0,a.useContext)(_),[y,b]=(0,a.useState)(null),x=null!=(i=null==y?void 0:y.ownerDocument)?i:null==globalThis?void 0:globalThis.document,[,E]=(0,a.useState)({}),w=(0,s.useComposedRefs)(r,e=>b(e)),S=Array.from(v.layers),[C]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),T=S.indexOf(C),k=y?S.indexOf(y):-1,O=v.layersWithOutsidePointerEventsDisabled.size>0,P=k>=T,D=function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,f.useCallbackRef)(e),n=(0,a.useRef)(!1),o=(0,a.useRef)(()=>{});return(0,a.useEffect)(()=>{let e=e=>{if(e.target&&!n.current){let n={originalEvent:e};function a(){H("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=a,t.addEventListener("click",o.current,{once:!0})):a()}else t.removeEventListener("click",o.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...v.branches].some(e=>e.contains(t));P&&!r&&(null==d||d(e),null==p||p(e),e.defaultPrevented||null==h||h())},x),R=function(e,t=null==globalThis?void 0:globalThis.document){let r=(0,f.useCallbackRef)(e),n=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{let e=e=>{e.target&&!n.current&&H("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...v.branches].some(e=>e.contains(t))&&(null==c||c(e),null==p||p(e),e.defaultPrevented||null==h||h())},x);return(0,B.useEscapeKeydown)(e=>{k===v.layers.size-1&&(null==u||u(e),!e.defaultPrevented&&h&&(e.preventDefault(),h()))},x),(0,a.useEffect)(()=>{if(y)return l&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(t=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(y)),v.layers.add(y),A(),()=>{l&&1===v.layersWithOutsidePointerEventsDisabled.size&&(x.body.style.pointerEvents=t)}},[y,x,l,v]),(0,a.useEffect)(()=>()=>{y&&(v.layers.delete(y),v.layersWithOutsidePointerEventsDisabled.delete(y),A())},[y,v]),(0,a.useEffect)(()=>{let e=()=>E({});return document.addEventListener(F,e),()=>document.removeEventListener(F,e)},[]),(0,a.createElement)(m.Primitive.div,(0,n.default)({},g,{ref:w,style:{pointerEvents:O?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.composeEventHandlers)(e.onFocusCapture,R.onFocusCapture),onBlurCapture:(0,o.composeEventHandlers)(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:(0,o.composeEventHandlers)(e.onPointerDownCapture,D.onPointerDownCapture)}))});function A(){let e=new CustomEvent(F);document.dispatchEvent(e)}function H(e,t,r,{discrete:n}){let a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?(0,m.dispatchDiscreteCustomEvent)(a,o):a.dispatchEvent(o)}let U="HoverCard",[$,W]=(0,i.createContextScope)(U,[y]),Y=y(),[z,V]=$(U),K=(0,a.forwardRef)((e,t)=>{let{__scopeHoverCard:r,...i}=e,l=V("HoverCardTrigger",r),s=Y(r);return(0,a.createElement)(E,(0,n.default)({asChild:!0},s),(0,a.createElement)(m.Primitive.a,(0,n.default)({"data-state":l.open?"open":"closed"},i,{ref:t,onPointerEnter:(0,o.composeEventHandlers)(e.onPointerEnter,ee(l.onOpen)),onPointerLeave:(0,o.composeEventHandlers)(e.onPointerLeave,ee(l.onClose)),onFocus:(0,o.composeEventHandlers)(e.onFocus,l.onOpen),onBlur:(0,o.composeEventHandlers)(e.onBlur,l.onClose),onTouchStart:(0,o.composeEventHandlers)(e.onTouchStart,e=>e.preventDefault())})))}),q="HoverCardPortal",[Z,Q]=$(q,{forceMount:void 0}),X="HoverCardContent",G=(0,a.forwardRef)((e,t)=>{let r=Q(X,e.__scopeHoverCard),{forceMount:i=r.forceMount,...l}=e,s=V(X,e.__scopeHoverCard);return(0,a.createElement)(L.Presence,{present:i||s.open},(0,a.createElement)(J,(0,n.default)({"data-state":s.open?"open":"closed"},l,{onPointerEnter:(0,o.composeEventHandlers)(e.onPointerEnter,ee(s.onOpen)),onPointerLeave:(0,o.composeEventHandlers)(e.onPointerLeave,ee(s.onClose)),ref:t})))}),J=(0,a.forwardRef)((e,t)=>{let{__scopeHoverCard:i,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:c,...m}=e,f=V(X,i),p=Y(i),h=(0,a.useRef)(null),g=(0,s.useComposedRefs)(t,h),[v,y]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(v){let e=document.body;return r=e.style.userSelect||e.style.webkitUserSelect,e.style.userSelect="none",e.style.webkitUserSelect="none",()=>{e.style.userSelect=r,e.style.webkitUserSelect=r}}},[v]),(0,a.useEffect)(()=>{if(h.current){let e=()=>{y(!1),f.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var e;(null==(e=document.getSelection())?void 0:e.toString())!==""&&(f.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!1}}},[f.isPointerDownOnContentRef,f.hasSelectionRef]),(0,a.useEffect)(()=>{h.current&&(function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t})(h.current).forEach(e=>e.setAttribute("tabindex","-1"))}),(0,a.createElement)(j,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:(0,o.composeEventHandlers)(d,e=>{e.preventDefault()}),onDismiss:f.onDismiss},(0,a.createElement)(T,(0,n.default)({},p,m,{onPointerDown:(0,o.composeEventHandlers)(m.onPointerDown,e=>{e.currentTarget.contains(e.target)&&y(!0),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!0}),ref:g,style:{...m.style,userSelect:v?"text":void 0,WebkitUserSelect:v?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})))});function ee(e){return t=>"touch"===t.pointerType?void 0:e()}let et=e=>{let{__scopeHoverCard:t,children:r,open:n,defaultOpen:o,onOpenChange:i,openDelay:s=700,closeDelay:u=300}=e,d=Y(t),c=(0,a.useRef)(0),m=(0,a.useRef)(0),f=(0,a.useRef)(!1),p=(0,a.useRef)(!1),[h=!1,g]=(0,l.useControllableState)({prop:n,defaultProp:o,onChange:i}),v=(0,a.useCallback)(()=>{clearTimeout(m.current),c.current=window.setTimeout(()=>g(!0),s)},[s,g]),y=(0,a.useCallback)(()=>{clearTimeout(c.current),f.current||p.current||(m.current=window.setTimeout(()=>g(!1),u))},[u,g]),b=(0,a.useCallback)(()=>g(!1),[g]);return(0,a.useEffect)(()=>()=>{clearTimeout(c.current),clearTimeout(m.current)},[]),(0,a.createElement)(z,{scope:t,open:h,onOpenChange:g,onOpen:v,onClose:y,onDismiss:b,hasSelectionRef:f,isPointerDownOnContentRef:p},(0,a.createElement)(N,d,r))},er=e=>{let{__scopeHoverCard:t,forceMount:r,children:n,container:o}=e,i=V(q,t);return(0,a.createElement)(Z,{scope:t,forceMount:r},(0,a.createElement)(L.Presence,{present:r||i.open},(0,a.createElement)(M,{asChild:!0,container:o},n)))};e.s(["Content",()=>G,"Portal",()=>er,"Root",()=>et,"Trigger",()=>K],608546)},574068,254125,e=>{"use strict";var t=e.i(875744),r=e.i(227739),n=e.i(450608);e.s(["useBookerTime",0,()=>{let[e]=(0,t.useBookerStoreContext)(e=>[e.timezone],n.shallow),{timezone:a,timeFormat:o}=(0,r.useTimePreferences)();return{timezone:(({storeTimezone:e,bookerUserPreferredTimezone:t})=>e??t)({storeTimezone:e,bookerUserPreferredTimezone:a}),timeFormat:o,timezoneFromBookerStore:e,timezoneFromTimePreferences:a}}],574068);let a=(0,e.i(166748).createWithEqualityFn)(e=>({overlayBusyDates:void 0,setOverlayBusyDates:t=>{e({overlayBusyDates:t})},calendarSettingsOverlayModal:!1,setCalendarSettingsOverlayModal:t=>{e({calendarSettingsOverlayModal:t})},continueWithProviderModal:!1,setContinueWithProviderModal:t=>{e({continueWithProviderModal:t})}}));e.s(["useOverlayCalendarStore",0,a],254125)},234452,348874,e=>{"use strict";var t=e.i(450608),r=e.i(875744),n=e.i(423105),a=e.i(347637),o=e.i(273446),i=e.i(574068),l=e.i(271645);e.s(["useEvent",0,e=>{let[n,a,i,l]=(0,r.useBookerStoreContext)(e=>[e.username,e.eventSlug,e.isTeamEvent,e.org],t.shallow),s=o.trpc.viewer.public.event.useQuery({username:n??"",eventSlug:a??"",isTeamEvent:i,org:l??null,fromRedirectOfNonOrgLink:e?.fromRedirectOfNonOrgLink},{refetchOnWindowFocus:!1,enabled:!e?.disabled&&!!n&&!!a});return{data:s?.data,isSuccess:s?.isSuccess,isError:s?.isError,isPending:s?.isPending}},"useScheduleForEvent",0,({username:e,eventSlug:o,eventId:s,month:u,duration:d,dayCount:c,selectedDate:m,orgSlug:f,teamMemberEmail:p,isTeamEvent:h,useApiV2:g=!0,bookerLayout:v,restrictionSchedule:y})=>{let b,{timezone:x}=(0,i.useBookerTime)(),[E,w,S,C]=(0,r.useBookerStoreContext)(e=>[e.username,e.eventSlug,e.month,e.selectedDuration],t.shallow),T=(b=(0,l.useRef)(x),y?.id!=null&&y.id>0&&!1===y.useBookerTimezone?b.current:x),k=(0,a.useCompatSearchParams)(),O=k?.get("rescheduleUid"),P=(0,n.useSchedule)({username:E??e,eventSlug:w??o,eventId:s,timezone:T,selectedDate:m,dayCount:c,rescheduleUid:O,month:S??u,duration:C??d,isTeamEvent:h,orgSlug:f,teamMemberEmail:p,useApiV2:g,bookerLayout:v});return{data:P?.data,isPending:P?.isPending,isError:P?.isError,isSuccess:P?.isSuccess,isLoading:P?.isLoading,invalidate:P?.invalidate,dataUpdatedAt:P?.dataUpdatedAt}}],234452),e.s(["useNonEmptyScheduleDays",0,e=>(0,l.useMemo)(()=>(e=>{if(void 0===e)return[];let t=[];return Object.keys(e).forEach(r=>{e[r].some(t=>!(t?.away&&!t.toUser&&!t.showNotePublicly)&&e[r].length>0)&&t.push(r)}),t})(e),[e])],348874)},140519,102209,e=>{"use strict";var t=e.i(843476),r=e.i(608546),n=e.i(88653),a=e.i(309453),o=e.i(271645),i=e.i(208013),l=e.i(363828),s=e.i(623101),u=e.i(875744),d=e.i(134019),c=e.i(12346),m=e.i(207597),f=e.i(139033),p=e.i(857739),h=e.i(451698),g=e.i(320937),v=e.i(574068),y=e.i(196268),b=e.i(254125);function x(e){let t=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${t}:${r}`}let E=({showExact:e=!0,bookedSeats:r,totalSeats:n,variant:a="whole"})=>{let{t:o}=(0,c.useLocale)(),i=n-r;return(0,t.jsx)("span",{className:"truncate",children:e?`${i}${"fraction"===a?` / ${n}`:""} ${o("seats_available",{count:i})}`:r/n>=.83?o("seats_nearly_full"):r/n>=.5?o("seats_half_full"):o("seats_available",{count:i})})};e.s(["SeatsAvailabilityText",0,E],102209);let w=({slot:e,seatsPerTimeSlot:l,selectedSlots:d,onTimeSelect:h,showAvailableSeatsCount:g,event:w,customClassNames:S,loadingStates:C,renderConfirmNotVerifyEmailButtonCond:T,isVerificationCodeSending:k,skipConfirmStep:O,shouldRenderCaptcha:P,watchedCfToken:D,handleSlotClick:R,onTentativeTimeSelect:N,unavailableTimeSlots:I=[],confirmButtonDisabled:M,confirmStepClassNames:L})=>{let{t:B}=(0,c.useLocale)(),{data:F}=w,_=(0,o.useMemo)(()=>{if(!F?.price)return!1;let e=(0,i.getPaymentAppData)(F);return F?.price>0&&!Number.isNaN(e.price)&&e.price>0},[F]),j="true"===(0,y.getQueryParam)("overlayCalendar")||m.localStorage.getItem("overlayCalendarSwitchDefault"),{timeFormat:A,timezone:H}=(0,v.useBookerTime)(),U=(0,u.useBookerStoreContext)(e=>e.bookingData),$=(0,u.useBookerStoreContext)(e=>e.layout),W=!!l,Y=s.default.utc(e.time).tz(H),z=!!(W&&e.attendees&&e.attendees>=l),V=e.attendees&&l&&e.attendees/l>=.5,K=e.attendees&&l&&e.attendees/l>=.83,q=(0,s.default)(),Z=(q.tz(H).utcOffset()-q.utcOffset())/60,Q=(0,u.useBookerStoreContext)(e=>e.selectedTimeslot),{isOverlapping:X,overlappingTimeEnd:G,overlappingTimeStart:J}=function({start:e,selectedDuration:t,offset:r}){let n=(0,b.useOverlayCalendarStore)(e=>e.overlayBusyDates),a=null,o=null;return{isOverlapping:n&&n.some(n=>{let i=(0,s.default)(n.start),l=(0,s.default)(n.end),u=(0,s.default)(e.add(r,"hours")).add(t??0,"minute"),d=(u.isSame(i)||u.isAfter(i))&&e.add(r,"hours")<l&&u>i;return a=d?x(i.toDate()):null,o=d?x(l.toDate()):null,d}),overlappingTimeStart:a,overlappingTimeEnd:o}}({start:Y,selectedDuration:F?.length??0,offset:Z}),ee=I.includes(e.time);return(0,t.jsx)(n.AnimatePresence,{children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(p.Button,{disabled:z||!!(e.bookingUid&&e.bookingUid===U?.uid)||C?.creatingBooking||C?.creatingRecurringBooking||k||C?.creatingInstantBooking||O&&!!P&&!D||ee,"data-testid":"time","data-disabled":z,"data-time":e.time,onClick:()=>{R&&R(e,X),N&&N({time:e.time,attendees:e.attendees||0,seatsPerTimeSlot:l})},className:(0,f.default)("hover:border-brand-default min-h-9 mb-2 flex h-auto w-full grow flex-col justify-center py-2",d?.includes(e.time)&&"border-brand-default",`${S}`),color:"secondary",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!W&&j&&(0,t.jsx)("span",{className:(0,f.default)("inline-block h-2 w-2 rounded-full",X?"bg-rose-600":"bg-emerald-400")}),Y.format(A)]}),z&&(0,t.jsx)("p",{className:"text-sm",children:B("booking_full")}),W&&!z&&(0,t.jsxs)("p",{className:"flex items-center text-sm",children:[(0,t.jsx)("span",{className:(0,f.default)(K?"bg-rose-600":V?"bg-yellow-500":"bg-emerald-400","mr-1 inline-block h-2 w-2 rounded-full"),"aria-hidden":!0}),(0,t.jsx)(E,{showExact:!!g,totalSeats:l,bookedSeats:e.attendees||0})]})]},e.time),!!e.showConfirmButton&&(0,t.jsxs)(r.Root,{children:[(0,t.jsx)(r.Trigger,{asChild:!0,children:(0,t.jsx)(a.m.div,{initial:{width:0},animate:{width:"auto"},exit:{width:0},children:(0,t.jsx)(p.Button,{variant:"column_view"===$?"icon":"button",StartIcon:"column_view"===$?"chevron-right":void 0,type:"button",className:L?.confirmButton,onClick:()=>h&&h(e.time,e?.attendees||0,l,e.bookingUid),"data-testid":"skip-confirm-book-button",disabled:ee||!!P&&!D||C?.creatingBooking||C?.creatingRecurringBooking||k||C?.creatingInstantBooking||M,color:"primary",loading:Q===e.time&&C?.creatingBooking||C?.creatingRecurringBooking||k||C?.creatingInstantBooking,children:"column_view"===$?"":B(ee?"timeslot_unavailable_short":T?_?"pay_and_book":"confirm":"verify_email_button")})},e.time)}),X&&(0,t.jsx)(r.Portal,{children:(0,t.jsx)(r.Content,{side:"top",align:"end",sideOffset:2,children:(0,t.jsxs)("div",{className:"text-emphasis bg-inverted w-(--booker-timeslots-width) rounded-md p-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("p",{children:"Busy"})}),(0,t.jsxs)("p",{className:"text-muted",children:[J," - ",G]})]})})})]})]})})},S=e=>{let r=(0,l.useIsPlatform)(),{fromUser:n,toUser:a,reason:o,emoji:i,notes:u,showNotePublicly:c,time:m,className:f=""}=e;return r?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(d.OutOfOfficeInSlots,{fromUser:n,toUser:a,date:(0,s.default)(m).format("YYYY-MM-DD"),reason:o,emoji:i,notes:u,showNotePublicly:c,borderDashed:!0,className:f})};e.s(["AvailableTimes",0,({slots:e,showTimeFormatToggle:r=!0,className:n,...a})=>{let{t:o}=(0,c.useLocale)();if(e.every(e=>e.away))return(0,t.jsx)(S,{...e[0]});let i=e[0]&&e[0].away,l=e[e.length-1]&&e[e.length-1].away;return(0,t.jsx)("div",{className:(0,f.default)("text-default flex flex-col",n),children:(0,t.jsxs)("div",{className:"h-full pb-4",children:[!e.length&&(0,t.jsxs)("div",{"data-testId":"no-slots-available",className:"bg-subtle border-subtle flex h-full flex-col items-center rounded-md border p-6 dark:bg-transparent",children:[(0,t.jsx)(g.CalendarX2Icon,{className:"text-muted mb-2 h-4 w-4"}),(0,t.jsx)("p",{className:(0,f.default)("text-muted",r?"-mt-1 text-lg":"text-sm"),children:o("all_booked_today")})]}),i&&!l&&(0,t.jsx)(S,{...e[0]}),e.map(e=>e.away?null:(0,t.jsx)(w,{slot:e,...a},e.time)),l&&!i&&(0,t.jsx)(S,{...e[e.length-1],className:"pb-0"})]})})},"AvailableTimesSkeleton",0,()=>(0,t.jsx)("div",{className:"flex w-[20%] flex-col only:w-full",children:Array.from({length:Math.floor(6*Math.random())+1}).map((e,r)=>(0,t.jsx)(h.SkeletonText,{className:"mb-4 h-6 w-full"},r))})],140519)},440652,e=>{"use strict";var t=e.i(271645);e.s(["useSlotsForAvailableDates",0,(e,r)=>{let[n,a]=(0,t.useState)([]),o=(0,t.useCallback)(e=>{a(t=>t.map(({date:t,slots:r})=>({date:t,slots:r.map(t=>({...t,showConfirmButton:t.time===e.time&&!e?.showConfirmButton}))})))},[]);return(0,t.useEffect)(()=>{void 0===r?a([]):a(e.filter(e=>null!==e).map(e=>({slots:r[`${e}`]||[],date:e})))},[JSON.stringify(e),JSON.stringify(r)]),{slotsPerDay:n,setSlotsPerDay:a,toggleConfirmButton:o}},"useSlotsForDate",0,(e,r)=>(0,t.useMemo)(()=>e&&void 0!==r&&r[e]||[],[e,r])])},190203,862966,e=>{"use strict";var t=e.i(843476),r=e.i(450608),n=e.i(623101),a=e.i(875744),o=e.i(12346),i=e.i(338688),l=e.i(865420),s=e.i(139033),u=e.i(759023),d=e.i(755105),c=e.i(227739);let m=({customClassName:e})=>{let r=(0,c.useTimePreferences)(e=>e.timeFormat),n=(0,c.useTimePreferences)(e=>e.setTimeFormat),{t:a}=(0,o.useLocale)();return(0,t.jsx)(d.ToggleGroup,{customClassNames:e,onValueChange:e=>{e&&e!==r&&n(e)},defaultValue:r,value:r,"aria-label":a("time_format"),options:[{value:u.TimeFormat.TWELVE_HOUR,label:a("12_hour_short")},{value:u.TimeFormat.TWENTY_FOUR_HOUR,label:a("24_hour_short")}]})};e.s(["TimeFormatToggle",0,m],862966),e.s(["AvailableTimesHeader",0,({date:e,showTimeFormatToggle:u=!0,availableMonth:d,customClassNames:c})=>{let{t:f,i18n:p}=(0,o.useLocale)(),[h]=(0,a.useBookerStoreContext)(e=>[e.layout],r.shallow),g=h===l.BookerLayouts.COLUMN_VIEW,v=h===l.BookerLayouts.MONTH_VIEW,y=(0,n.default)().isSame(e,"day");return(0,t.jsxs)("header",{className:(0,s.default)("dark:bg-cal-muted dark:before:bg-cal-muted mb-3 flex w-full flex-row items-center font-medium","bg-default before:bg-default",c?.availableTimeSlotsHeaderContainer),children:[(0,t.jsxs)("span",{className:(0,s.default)(g&&"w-full text-center",g?"text-subtle text-xs uppercase":"text-emphasis font-semibold"),children:[(0,t.jsx)("span",{className:(0,s.default)(y&&!c?.availableTimeSlotsTitle&&"!text-default",c?.availableTimeSlotsTitle),children:(0,i.nameOfDay)(p.language,Number(e.format("d")),"short")}),(0,t.jsxs)("span",{className:(0,s.default)(g&&y&&"bg-brand-default text-brand ml-2","inline-flex items-center justify-center rounded-3xl px-1 pt-0.5 font-medium",v?`text-default text-sm ${c?.availableTimeSlotsTitle}`:`text-xs ${c?.availableTimeSlotsTitle}`),children:[e.format("DD"),d&&`, ${d}`]})]}),u&&(0,t.jsx)("div",{className:"ml-auto rtl:mr-auto",children:(0,t.jsx)(m,{customClassName:c?.availableTimeSlotsTimeFormatToggle})})]})}],190203)},485900,e=>{"use strict";var t=e.i(271645);function r(e){return(0,t.useEffect)(()=>()=>e(),[])}e.s(["useUnmountEffect",()=>r])},315666,673463,160572,e=>{"use strict";var t=e.i(833745),r=e.i(271645),n=e.i(674008);function a(){let e=(0,r.useRef)(!1);return(0,n.useIsomorphicLayoutEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function o(){let e=a(),[n,o]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{e.current&&o(n+1)},[n]);return[(0,r.useCallback)(()=>t.frame.postRender(i),[i]),n]}e.s(["useIsMounted",()=>a],673463),e.s(["useForceUpdate",()=>o],315666);var i=e.i(821476),l=e.i(947414),s=r;class u extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,s.useId)(),n=(0,s.useRef)(null),a=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:e,height:o,top:i,left:l}=a.current;if(t||!n.current||!e||!o)return;n.current.dataset.motionPopId=r;let s=document.createElement("style");return document.head.appendChild(s),s.sheet&&s.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(s)}},[t]),s.createElement(u,{isPresent:t,childRef:n,sizeRef:a},s.cloneElement(e,{ref:n}))}let c=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:o,presenceAffectsLayout:s,mode:u})=>{let c=(0,l.useConstant)(m),f=(0,r.useId)(),p=(0,r.useMemo)(()=>({id:f,initial:t,isPresent:n,custom:o,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;a&&a()},register:e=>(c.set(e,!1),()=>c.delete(e))}),s?void 0:[n]);return(0,r.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[n]),r.useEffect(()=>{n||c.size||!a||a()},[n]),"popLayout"===u&&(e=r.createElement(d,{isPresent:n},e)),r.createElement(i.PresenceContext.Provider,{value:p},e)};function m(){return new Map}e.s(["PresenceChild",()=>c],160572)},88653,e=>{"use strict";var t=e.i(271645),r=e.i(315666),n=e.i(673463),a=e.i(160572),o=e.i(231178),i=e.i(674008),l=e.i(485900),s=e.i(783164);let u=e=>e.key||"",d=({children:e,custom:d,initial:c=!0,onExitComplete:m,exitBeforeEnter:f,presenceAffectsLayout:p=!0,mode:h="sync"})=>{let g;(0,s.invariant)(!f,"Replace exitBeforeEnter with mode='wait'");let[v]=(0,r.useForceUpdate)(),y=(0,t.useContext)(o.LayoutGroupContext).forceRender;y&&(v=y);let b=(0,n.useIsMounted)(),x=(g=[],t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&g.push(e)}),g),E=x,w=new Set,S=(0,t.useRef)(E),C=(0,t.useRef)(new Map).current,T=(0,t.useRef)(!0);if((0,i.useIsomorphicLayoutEffect)(()=>{T.current=!1,x.forEach(e=>{let t=u(e);C.set(t,e)}),S.current=E}),(0,l.useUnmountEffect)(()=>{T.current=!0,C.clear(),w.clear()}),T.current)return t.createElement(t.Fragment,null,E.map(e=>t.createElement(a.PresenceChild,{key:u(e),isPresent:!0,initial:!!c&&void 0,presenceAffectsLayout:p,mode:h},e)));E=[...E];let k=S.current.map(u),O=x.map(u),P=k.length;for(let e=0;e<P;e++){let t=k[e];-1===O.indexOf(t)&&w.add(t)}return"wait"===h&&w.size&&(E=[]),w.forEach(e=>{if(-1!==O.indexOf(e))return;let r=C.get(e);if(!r)return;let n=k.indexOf(e);E.splice(n,0,t.createElement(a.PresenceChild,{key:u(r),isPresent:!1,onExitComplete:()=>{C.delete(e),w.delete(e);let t=S.current.findIndex(t=>t.key===e);if(S.current.splice(t,1),!w.size){if(S.current=x,!1===b.current)return;v(),m&&m()}},custom:d,presenceAffectsLayout:p,mode:h},r))}),E=E.map(e=>{let r=e.key;return w.has(r)?e:t.createElement(a.PresenceChild,{key:u(e),isPresent:!0,presenceAffectsLayout:p,mode:h},e)}),t.createElement(t.Fragment,null,w.size?E:E.map(e=>(0,t.cloneElement)(e)))};e.s(["AnimatePresence",()=>d])},850304,e=>{"use strict";let t=(e,t)=>{if(!e)return"";let r=e.toLowerCase().trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^.\p{L}\p{N}\p{Zs}\p{Emoji}]+/gu,"-").replace(/[\s_#]+/g,"-").replace(/^-+/,"").replace(/\.{2,}/g,".").replace(/^\.+/,"").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").replace(/\s+/g," ").replace(/-+/g,"-");return t?r:r.replace(/-+$/,"").replace(/\.*$/,"")};e.s(["default",0,t,"slugify",0,t])},309453,e=>{"use strict";var t=e.i(154373),r=e.i(144218);let n=(0,t.createMotionProxy)(r.createDomMotionConfig);e.s(["m",()=>n])},279585,e=>{"use strict";e.s(["isBookingDryRun",0,e=>"true"===e.get("cal.isBookingDryRun")])},411016,e=>{"use strict";e.s(["getRoutedTeamMemberIdsFromSearchParams",0,e=>{let t=e.get("cal.routedTeamMemberIds");return"string"==typeof t?t.split(",").filter(Boolean).map(e=>parseInt(e,10)):null}])},702848,344464,e=>{"use strict";var t=e.i(852060),r=e.i(535488),n=e.i(850304),a=e.i(331597),o=e.i(865420);({...{isDynamic:!0,periodCountCalendarDays:!0,periodStartDate:null,periodEndDate:null,beforeEventBuffer:0,afterEventBuffer:0,periodType:a.PeriodType.UNLIMITED,periodDays:null,slotInterval:null,offsetStart:0,locations:[{type:t.DailyLocationType}],customInputs:[],disableGuests:!0,minimumBookingNotice:120,schedule:null,timeZone:null,successRedirectUrl:"",forwardParamsSuccessRedirect:!0,teamId:null,scheduleId:null,availability:[],price:0,currency:"usd",schedulingType:a.SchedulingType.COLLECTIVE,seatsPerTimeSlot:null,seatsShowAttendees:null,seatsShowAvailabilityCount:null,disableCancelling:!1,disableRescheduling:!1,minimumRescheduleNotice:null,onlyShowFirstAvailableSlot:!1,allowReschedulingPastBookings:!1,allowReschedulingCancelledBookings:!1,hideOrganizerEmail:!1,showOptimizedSlots:!1,id:0,hideCalendarNotes:!1,hideCalendarEventDetails:!1,recurringEvent:null,destinationCalendar:null,team:null,lockTimeZoneToggleOnBookingPage:!1,lockedTimeZone:null,requiresConfirmation:!1,requiresConfirmationForFreeEmail:!1,requiresBookerEmailVerification:!1,bookingLimits:null,maxActiveBookingsPerBooker:null,maxActiveBookingPerBookerOfferReschedule:!1,durationLimits:null,hidden:!1,userId:0,parentId:null,parent:null,owner:null,workflows:[],users:[{metadata:null,theme:null,credentials:[],username:"john.doe",timeZone:"",bufferTime:0,availability:[],id:0,uuid:"00000000-0000-0000-0000-000000000000",allSelectedCalendars:[],userLevelSelectedCalendars:[],schedules:[],defaultScheduleId:null,locale:"en",email:"john.doe@example.com",name:"John doe",destinationCalendar:null,hideBranding:!0,brandColor:"#797979",darkBrandColor:"#efefef",allowDynamicBooking:!0,timeFormat:12,travelSchedules:[],locked:!1,isPlatformManaged:!1}],hosts:[],subsetOfHosts:[],metadata:o.EventTypeMetaDataSchema.parse({}),bookingFields:[],assignAllTeamMembers:!1,assignRRMembersUsingSegment:!1,rrSegmentQueryValue:null,isRRWeightsEnabled:!1,rescheduleWithSameRoundRobinHost:!1,useEventTypeDestinationCalendarEmail:!1,secondaryEmailId:null,secondaryEmail:null,autoTranslateDescriptionEnabled:!1,fieldTranslations:[],maxLeadThreshold:null,includeNoShowInRRCalculation:!1,useEventLevelSelectedCalendars:!1,rrResetInterval:null,rrTimestampBasis:null,interfaceLanguage:null,customReplyToEmail:null,restrictionScheduleId:null,useBookerTimezone:!1,profileId:null,profile:null,requiresConfirmationWillBlockSlot:!1,canSendCalVideoTranscriptionEmails:!1,instantMeetingExpiryTimeOffsetInSeconds:0,autoTranslateInstantMeetingTitleEnabled:!0,instantMeetingScheduleId:null,instantMeetingParameters:[],eventTypeColor:null,hostGroups:[],bookingRequiresAuthentication:!1,createdAt:null,updatedAt:null,rrHostSubsetEnabled:!1,enablePerHostLocations:!1,redirectUrlOnNoRoutingFormResponse:null},metadata:r.eventTypeMetaDataSchemaWithTypedApps.parse({multipleDuration:[15,30,45,60,90]})}),e.s(["getUsernameList",0,e=>{let t,r=(e=Array.isArray(t=e)?t:t?[t]:[]).map(e=>e.replace(/( |%20|%2b)/gi,"+").split("+")).flat().filter(Boolean);return Array.prototype.concat(...r.map(e=>(0,n.default)(e)))}],702848);var i=e.i(450608),l=e.i(623101),s=e.i(875744);let u=(e,t)=>!(isNaN(e)||isNaN(t))&&e!==t;e.s(["useTimesForSchedule",0,({month:e,selectedDate:t,dayCount:r,bookerLayout:n})=>{let a,d,[c,m]=(0,s.useBookerStoreContext)(e=>[e.month,e.state],i.shallow),f=c??e??null,p=(({date:e,month:t,bookerLayout:r,bookerState:n})=>{if(!r)return null;let a=(0,l.default)(e).month(),i=(0,l.default)(e).add(1,"month").month(),s=(0,l.default)(e).add(r.extraDays,"day").month(),d=(0,l.default)(e).add(r.columnViewExtraDays.current,"day").month(),c=((e,t,r,n,a,i,s)=>{if(e===o.BookerLayouts.WEEK_VIEW)return!!s&&u(r,n);if(e===o.BookerLayouts.COLUMN_VIEW)return u(r,a);if(e===o.BookerLayouts.MONTH_VIEW||"mobile"===e){let e,r,n;return e=(0,l.default)(t).isValid(),r=(0,l.default)(i).startOf("month").add(2,"week"),n=(0,l.default)().isSame((0,l.default)(i),"month"),!!(0,l.default)().isAfter(r)&&(!e||!!n)}return!1})(r.layout,e,a,s,d,t,r.extraDays);return c?{monthsToPrefetch:((e,t,r,n,a)=>{let i,l,s=(i=Number.isFinite(r),l=Number.isFinite(n),!!i&&!!l&&r!==n),u=e===o.BookerLayouts.WEEK_VIEW,d=e===o.BookerLayouts.COLUMN_VIEW;if(s&&(d||!u&&"selecting_time"===t&&!a))return 2})(r.layout,n,i,d,c)??1}:null})({date:(0,l.default)(t).format("YYYY-MM-DD"),month:f,bookerLayout:n,bookerState:m}),h=(0,l.default)(),g=f?(0,l.default)(f):h;if(r&&r>0)t?(a=(0,l.default)(t).toISOString(),d=(0,l.default)(t).add(r,"day").toISOString()):g.month()===h.month()?(a=h.startOf("day").toISOString(),d=h.startOf("day").add(r,"day").toISOString()):(a=g.startOf("month").toISOString(),d=g.startOf("month").add(r,"day").toISOString());else{let e=p?.monthsToPrefetch,t=e?g.add(e,"month"):null;a=g.startOf("month").toISOString(),d=(t||g).endOf("month").toISOString()}return[a,d]}],344464)},423105,e=>{"use strict";var t=e.i(618566),r=e.i(436864),n=e.i(111914),a=e.i(118540),o=e.i(279585),i=e.i(702848),l=e.i(344464),s=e.i(411016),u=e.i(24509),d=e.i(273446),c=e.i(266027),m=e.i(581949);let f=({eventId:e,eventSlug:t})=>({eventId:e,eventSlug:t});e.s(["useSchedule",0,({month:e,timezone:p,username:h,eventSlug:g,eventId:v,selectedDate:y,duration:b,dayCount:x,rescheduleUid:E,isTeamEvent:w,orgSlug:S,teamMemberEmail:C,useApiV2:T=!1,enabled:k=!0,bookerLayout:O})=>{let P=(0,a.useBookerStore)(e=>e.state),[D,R]=(0,l.useTimesForSchedule)({month:e,dayCount:x,selectedDate:y,bookerLayout:O}),N=(0,t.useSearchParams)(),I=N?(0,s.getRoutedTeamMemberIdsFromSearchParams)(new URLSearchParams(N.toString())):null,M=!!N&&"true"===N.get("cal.skipContactOwner"),L=d.trpc.useUtils(),B=N?.get("cal.routingFormResponseId"),F=N?.get("cal.queuedFormResponseId"),_=N?.get("email"),j=N?.get("cal.skipSlotsFetch")==="true",A=B?parseInt(B,10):void 0,H=N?.get("cal.embed.connectVersion")||"0",U={isTeamEvent:w,usernameList:(0,i.getUsernameList)(h??""),...g?{eventTypeSlug:g}:{eventTypeId:v??0},startTime:D,endTime:R,timeZone:p??"PLACEHOLDER_TIMEZONE",duration:b?`${b}`:void 0,rescheduleUid:E,orgSlug:S,teamMemberEmail:C,routedTeamMemberIds:I,skipContactOwner:M,...F?{queuedFormResponseId:F}:{routingFormResponseId:A},email:_,...{embedConnectVersion:H},_isDryRun:!!N&&(0,o.isBookingDryRun)(N)},$={trpc:{context:{skipBatch:!0}},refetchOnWindowFocus:!0,refetchInterval:1e3*u.PUBLIC_QUERY_AVAILABLE_SLOTS_INTERVAL_SECONDS,enabled:!j&&!!h&&!!e&&!!p&&(!!g||!!v||0===v)&&k},W=T&&!!w&&$.enabled,Y=(({enabled:e,...t})=>(0,c.useQuery)({queryKey:["get-available-slots",t.startTime,t.endTime,t.eventTypeId,t.eventTypeSlug,t.isTeamEvent??!1,t.teamId??!1,t.usernameList,t.routedTeamMemberIds,t.skipContactOwner,t.teamMemberEmail,t.embedConnectVersion??!1],queryFn:()=>m.default.get("/api/v2/slots/available",{params:t}).then(e=>{if("success"===e.data.status)return e.data.data;throw Error(e.data.error.message)}),enabled:e}))({...U,enabled:W,duration:U.duration?Number(U.duration):void 0,routedTeamMemberIds:U.routedTeamMemberIds??void 0,teamMemberEmail:U.teamMemberEmail??void 0,eventTypeId:v??void 0}),z=d.trpc.viewer.slots.getSchedule.useQuery(U,{...$,enabled:$.enabled&&!W});return W&&!Y.failureReason?((0,r.updateEmbedBookerState)({bookerState:P,slotsQuery:Y}),Y.isSuccess&&v&&g&&n.sdkActionManager?.fire("availabilityLoaded",f({eventId:v,eventSlug:g})),{...Y,invalidate:()=>Y.refetch()}):((0,r.updateEmbedBookerState)({bookerState:P,slotsQuery:z}),z.isSuccess&&v&&g&&n.sdkActionManager?.fire("availabilityLoaded",f({eventId:v,eventSlug:g})),{...z,invalidate:()=>L.viewer.slots.getSchedule.invalidate(U)})}],423105)},134019,e=>{"use strict";var t=e.i(843476),r=e.i(618566),n=e.i(673610),a=e.i(347637),o=e.i(12346),i=e.i(139033),l=e.i(857739);e.s(["OutOfOfficeInSlots",0,e=>{let{t:s}=(0,o.useLocale)(),{fromUser:u,toUser:d,emoji:c="ðŸï¸",reason:m,borderDashed:f=!0,date:p,className:h,notes:g,showNotePublicly:v}=e,y=(0,a.useCompatSearchParams)(),b=(0,r.useRouter)(),x=!u&&m;return x||u?(0,t.jsx)("div",{className:(0,i.default)("relative h-full pb-5",h),children:(0,t.jsxs)("div",{className:(0,i.default)("flex h-full flex-col items-center justify-start rounded-md border bg-white px-4 py-4 font-normal dark:bg-transparent",f&&"border-dashed"),children:[(0,t.jsx)("div",{className:"bg-emphasis flex h-14 w-14 flex-col items-center justify-center rounded-full",children:(0,t.jsx)("span",{className:"m-auto text-center text-lg",children:c})}),(0,t.jsx)("div",{className:"stack-y-2 max-h-[300px] w-full overflow-y-auto text-center",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"mt-2 text-base font-bold",children:m}),(0,t.jsx)("p",{className:"text-subtle text-center text-sm",children:s("holiday_no_availability")})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"mt-2 text-base font-bold",children:s("ooo_user_is_ooo",{displayName:u?.displayName})}),g&&v&&(0,t.jsx)("p",{className:"text-subtle mt-2 max-h-[120px] overflow-y-auto break-words px-2 text-center text-sm italic",children:g}),u?.displayName&&d?.displayName&&(0,t.jsx)("p",{className:"text-center text-sm",children:(0,t.jsx)(n.default,{t:s,i18nKey:"ooo_slots_returning",values:{displayName:d.displayName},components:[(0,t.jsx)("strong",{children:"username"},"username")]})})]})}),!x&&d?.id&&(0,t.jsx)(l.Button,{className:"mt-8 max-w-[90%]",variant:"button",color:"secondary",onClick:()=>{let e=y.get("month"),t=y.get("layout"),r=y.get("date")||p;b.push(`/${d.username}?${e?`month=${e}&`:""}date=${r}${t?`&layout=${t}`:""}`)},children:(0,t.jsx)("span",{className:"block overflow-hidden text-ellipsis whitespace-nowrap",children:s("ooo_slots_book_with",{displayName:d.displayName})})})]})}):null}])}]);

//# sourceMappingURL=b66a4c241be06163.js.map